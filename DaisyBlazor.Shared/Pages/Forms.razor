@page "/forms"

<EditForm Model="@info" OnValidSubmit="@ValidSubmit">
    <DataAnnotationsValidator />
    <DaisyFormField Label="文本1" LabelRequired For="()=>info.Text">
        <DaisyInputText Required @bind-Value="@info.Text" />
    </DaisyFormField>
    <DaisyFormField Label="选择0" LabelRequired For="()=>info.Select0">
        <DaisySelect Required @bind-Value="@info.Select0">
            <DaisySelectOption Default Disabled TValue="SubInfo" Value="default">请选择</DaisySelectOption>
            <DaisySelectGroup Label="Group1">
                <DaisySelectOption Value="@(new SubInfo{Name="S1"})">S1</DaisySelectOption>
                <DaisySelectOption Value="@(new SubInfo{Name="S2"})">S2</DaisySelectOption>
            </DaisySelectGroup>
            <DaisySelectOption Value="@(new SubInfo{Name="S3"})">S3</DaisySelectOption>
        </DaisySelect>
    </DaisyFormField>
    <DaisyFormField Label="选择1" LabelRequired For="()=>info.Select1">
        <DaisySelect Required @bind-Value="@info.Select1">
            <DaisySelectOption Default Disabled TValue="string" Value="default">请选择</DaisySelectOption>
            <DaisySelectOption Value="@("s1")">S1</DaisySelectOption>
            <DaisySelectOption Value="@("s2")">S2</DaisySelectOption>
            <DaisySelectOption Value="@("s3")">S3</DaisySelectOption>
        </DaisySelect>
    </DaisyFormField>
    <DaisyFormField Label="选择2" For="()=>info.Select2">
        <DaisyMultipleSelect @bind-Value="@info.Select2">
            <DaisySelectGroup Label="Group1">
                <DaisySelectOption Value="@("s1")">S1</DaisySelectOption>
                <DaisySelectOption Value="@("s2")">S2</DaisySelectOption>
            </DaisySelectGroup>
            <DaisySelectOption Value="@("s3")">S3</DaisySelectOption>
        </DaisyMultipleSelect>
    </DaisyFormField>
    <DaisyFormField>
        <div>
            <DaisyButton Type="submit">确定</DaisyButton>
        </div>
    </DaisyFormField>
</EditForm>

@code {
    private InputInfo info = new InputInfo();
    private void ValidSubmit(EditContext content)
    {

    }
    class InputInfo
    {
        [System.ComponentModel.DataAnnotations.Required(ErrorMessage = "Text是必须的")]
        public string? Text { get; set; }

        [System.ComponentModel.DataAnnotations.Required]
        public SubInfo? Select0 { get; set; } = new SubInfo { Name = "S1" };

        [System.ComponentModel.DataAnnotations.Required]
        public string? Select1 { get; set; }
        public IEnumerable<string>? Select2 { get; set; } = new string[] { "s1", "s2" };
    }

    class SubInfo
    {
        public string? Text { get; set; }
        public string? Name { get; set; }
    }
}