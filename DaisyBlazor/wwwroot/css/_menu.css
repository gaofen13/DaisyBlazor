.menu {
    display: flex;
    flex-direction: column;
    flex-wrap: nowrap;
    --tw-bg-opacity: 1;
    background-color: hsl(var(--b1)/var(--tw-bg-opacity));
    width: var(--menu-width);
}

    .menu.menu-shadow-xl {
        --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);
        --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);
        box-shadow: var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);
    }

    .menu.rounded-box, .menu .rounded-box {
        border-radius: var(--rounded-box,1rem);
    }

    .menu:not(.menu-horizontal) .menu-sub > ul {
        --tw-bg-opacity: 1;
        background-color: hsl(var(--b1)/var(--tw-bg-opacity));
        --tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);
        --tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);
        box-shadow: var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);
        width: var(--menu-width);
    }

    .menu li ul {
        position: absolute;
        display: none;
        top: initial;
        left: 100%;
        border-top-left-radius: inherit;
        border-top-right-radius: inherit;
        border-bottom-right-radius: inherit;
        border-bottom-left-radius: inherit;
    }

    .menu li > ul {
        display: flex;
        flex-direction: column;
        align-items: stretch;
    }

    .menu li {
        position: relative;
        display: flex;
        flex-shrink: 0;
        flex-direction: column;
        flex-wrap: wrap;
        align-items: stretch;
    }

    .menu .menu-title > * {
        padding-top: 0.25rem;
        padding-bottom: 0.25rem;
        font-size: .75rem;
        line-height: 1rem;
        font-weight: 700;
        color: hsl(var(--bc)/var(--tw-text-opacity));
        --tw-text-opacity: .4;
    }

    .menu > li:first-child, .menu ul > li:first-child {
        border-top-left-radius: inherit;
        border-top-right-radius: inherit;
    }

        .menu > li:first-child > :not(ul), .menu ul > li:first-child > :not(ul) {
            border-top-left-radius: inherit;
            border-top-right-radius: inherit;
        }

    .menu > li:last-child, .menu ul > li:last-child {
        border-bottom-right-radius: inherit;
        border-bottom-left-radius: inherit;
    }

        .menu > li:last-child > :not(ul), .menu ul > li:last-child > :not(ul) {
            border-bottom-right-radius: inherit;
            border-bottom-left-radius: inherit;
        }

    .menu li:not(.menu-title):not(:empty) > :not(ul).active, .menu li:not(.menu-title):not(:empty) > *:not(ul):active {
        --tw-bg-opacity: .1;
        background-color: hsl(var(--bc)/var(--tw-bg-opacity));
    }

    .menu li:not(.menu-title):not(.bordered):not(:empty) > :not(ul).active, .menu li:not(.menu-title):not(.bordered):not(:empty) > *:not(ul):active {
        --tw-bg-opacity: 1;
        background-color: hsl(var(--p)/var(--tw-bg-opacity));
        --tw-text-opacity: 1;
        color: hsl(var(--pc)/var(--tw-text-opacity));
    }

    .menu li.disabled > * {
        -webkit-user-select: none;
        user-select: none;
        color: hsl(var(--bc)/var(--tw-text-opacity));
        --tw-text-opacity: .2;
    }

    .menu li.bordered > *:not(ul).active {
        border-left-width: 4px;
        --tw-border-opacity: 1;
        border-color: hsl(var(--p)/var(--tw-border-opacity));
    }

    .menu[class*=" p-"] li > *, .menu[class^=p-] li > * {
        border-radius: var(--rounded-btn,.5rem);
    }

    .menu li:not(.disabled) > *:not(ul) {
        outline: 2px solid transparent;
        outline-offset: 2px;
        transition-property: color,background-color,border-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-text-decoration-color,-webkit-backdrop-filter;
        transition-property: color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;
        transition-property: color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-text-decoration-color,-webkit-backdrop-filter;
        transition-duration: .2s;
        transition-timing-function: cubic-bezier(.4,0,.2,1);
    }

    .menu li > *:not(ul) {
        gap: 0.75rem;
        padding: 0.75rem 1rem;
        color: currentColor;
    }

    .menu li:not(.disabled):not(.menu-title) > *:not(ul) {
        cursor: pointer;
        -webkit-user-select: none;
        user-select: none;
        align-items: center;
        outline: 2px solid transparent;
        outline-offset: 2px;
    }

    .menu li:not(.menu-title) > *:not(ul) {
        display: flex;
    }

    .menu li:not(.disabled):not(.menu-title):not(:empty) > :not(ul):not(.active):hover {
        background-color: hsl(var(--bc)/var(--tw-bg-opacity));
        --tw-bg-opacity: .1
    }

    .menu li.disabled > :hover {
        background-color: #0000
    }

.menu-horizontal {
    display: inline-flex;
    width: max-content;
    flex-direction: row;
    flex-wrap: wrap;
}

    .menu-horizontal > li > ul {
        top: 100%;
        left: initial;
    }

    .menu-horizontal > li:first-child, .menu-horizontal ul > li:first-child {
        border-top-left-radius: inherit;
        border-bottom-left-radius: inherit;
    }

        .menu-horizontal > li:first-child > *:not(ul), .menu-horizontal ul > li:first-child > *:not(ul) {
            border-top-left-radius: inherit;
            border-bottom-left-radius: inherit;
        }

    .menu-horizontal > li:last-child, .menu-horizontal ul > li:last-child {
        border-top-right-radius: inherit;
        border-bottom-right-radius: inherit;
    }

        .menu-horizontal > li:last-child > *:not(ul), .menu-horizontal ul > li:last-child > *:not(ul) {
            border-top-right-radius: inherit;
            border-bottom-right-radius: inherit;
        }

    .menu-horizontal li.bordered > *:not(ul).active {
        border-left-width: 0;
        border-bottom-width: 4px;
    }

.menu-compact li > * {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
    font-size: .875rem;
    line-height: 1.25rem;
}

.menu .menu-sub-arrow .menu-sub-title:after {
    position: absolute;
    display: block;
    height: 0.5rem;
    width: 0.5rem;
    --tw-translate-y: -100%;
    --tw-rotate: 135deg;
    transform: translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));
    transition-property: all;
    transition-duration: .15s;
    transition-duration: .2s;
    transition-timing-function: cubic-bezier(.4,0,.2,1);
    top: 50%;
    right: 1.4rem;
    content: "";
    transform-origin: 75% 75%;
    box-shadow: 2px 2px;
    pointer-events: none;
}

.menu.menu-horizontal .menu-sub-arrow .menu-sub-title {
    padding-right: 2.5rem;
}

    .menu.menu-horizontal .menu-sub-arrow .menu-sub-title:after {
        --tw-rotate: 225deg;
        --tw-translate-y: -50%;
    }

.menu:not(.menu-horizontal) .menu-sub-arrow .menu-sub-title:after {
    --tw-rotate: -45deg;
}

.menu.menu-horizontal .menu-sub-arrow .menu-sub-title:after {
    --tw-rotate: 45deg;
    --tw-translate-y: -100%;
}
